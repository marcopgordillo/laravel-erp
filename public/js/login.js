"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[535],{4178:(e,t,n)=>{n.d(t,{tp:()=>u,Qc:()=>f,vp:()=>x,p0:()=>H,Ux:()=>q});var r=n(6252),a=n(3577),l=["type"],o={inheritAttrs:!0};const u=Object.assign(o,{props:{type:{type:String,default:"submit"},text:{type:String,default:"Submit"}},setup:function(e){return function(t,n){return(0,r.wg)(),(0,r.iD)("button",(0,r.dG)({type:e.type},t.$attrs,{class:"px-2.5 py-1.5 border border-transparent text-xs rounded shadow-sm text-white bg-blue-400 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-center transition"}),(0,a.zw)(e.text),17,l)}}});var i=n(2262),s=n(9963),p=["for"],c=["id","type","required","placeholder","autocomplete"],d={inheritAttrs:!0};const f=Object.assign(d,{props:{modelValue:{type:String,default:""},name:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},showLabel:{type:Boolean,default:!0},required:{type:Boolean,default:!1},placeholder:{type:String,default:null},autocomplete:{type:String,default:null}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,l=e,o=(0,i.Fl)({get:function(){return l.modelValue},set:function(e){n("update:modelValue",e)}});return function(t,n){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("label",{for:e.name,class:(0,a.C_)(["text-sm text-gray-500",{"sr-only":!e.showLabel}])},(0,a.zw)(e.label),11,p),(0,r.wy)((0,r._)("input",{id:e.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,i.dq)(o)?o.value=e:null}),type:e.type,required:e.required,placeholder:e.placeholder,autocomplete:e.autocomplete,class:"block w-full px-3 py-2 placeholder-gray-400 border border-gray-300 rounded-md shadow-sm appearance-none focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,8,c),[[s.YZ,(0,i.SU)(o)]])])}}});var m=n(2745),g=n(2119),y={"aria-label":"Pagination",class:"flex items-center justify-between py-4"},b={class:"text-sm text-gray-500"},v={class:"flex"};const x={props:{action:{type:Object,required:!0},path:{type:String,default:null},meta:{type:Object,required:!0},links:{type:Object,required:!0}},setup:function(e){var t=e,n=((0,m.LM)(),(0,m.GH)(),(0,g.tv)());var l,o="use".concat((l=t.action.store,"".concat(l[0].toUpperCase()).concat(l.substring(1))),"Store")();function u(){o[t.action.action](t.links.first).then((function(){t.path&&n.push({name:t.path,query:{page:1}})}))}function i(){o[t.action.action](t.links.prev).then((function(){t.path&&n.push({name:t.path,query:{page:t.meta.current_page-1}})}))}function s(){o[t.action.action](t.links.next).then((function(){t.path&&n.push({name:t.path,query:{page:t.meta.current_page+1}})}))}function p(){o[t.action.action](t.links.last).then((function(){t.path&&n.push({name:t.path,query:{page:t.meta.last_page}})}))}return function(t,n){return(0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("p",b," Page "+(0,a.zw)(e.meta.current_page)+" of "+(0,a.zw)(e.meta.last_page),1),(0,r._)("div",v,[e.links.prev?((0,r.wg)(),(0,r.iD)("button",{key:0,rel:"first",type:"button",onClick:u,class:"px-2.5 py-1.5 m-1 text-sm text-pink-400 border rounded hover:text-pink-500"}," First ")):(0,r.kq)("",!0),e.links.prev?((0,r.wg)(),(0,r.iD)("button",{key:1,rel:"prev",type:"button",onClick:i,class:(0,a.C_)([{"rounded-r":!e.links.next},"px-2.5 py-1.5 m-1 text-sm text-pink-400 border rounded hover:text-pink-500"])}," Previous ",2)):(0,r.kq)("",!0),e.links.next?((0,r.wg)(),(0,r.iD)("button",{key:2,rel:"next",type:"button",onClick:s,class:(0,a.C_)([{"rounded-l":!e.links.prev},"px-2.5 py-1.5 m-1 text-sm text-pink-400 border rounded hover:text-pink-500"])}," Next ",2)):(0,r.kq)("",!0),e.links.next?((0,r.wg)(),(0,r.iD)("button",{key:3,rel:"last",type:"button",onClick:p,class:"px-2.5 py-1.5 m-1 text-sm text-pink-400 border rounded hover:text-pink-500"}," Last ")):(0,r.kq)("",!0)])])}}};var h={key:"message",class:"mt-2 text-sm text-green-500"},k={key:"error",class:"mt-2 text-sm text-red-500"},w={class:"mt-2 text-sm text-red-500",key:"error-list"},S={class:"font-bold capitalize"},_={class:"ml-2"};const q={props:{message:{type:String,default:null},error:{type:[Object,String],default:null}},setup:function(e){var t=e,n=(0,i.Fl)((function(){return t.error&&"string"!==o(t.error)?Object.keys(t.error):null}));function l(e){return t.error[e]}function o(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}return function(t,u){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(s.W3,{name:"fade"},{default:(0,r.w5)((function(){return[e.message?((0,r.wg)(),(0,r.iD)("p",h,(0,a.zw)(e.message),1)):(0,r.kq)("",!0),e.error&&"string"===o(e.error)?((0,r.wg)(),(0,r.iD)("p",k,(0,a.zw)(e.error),1)):(0,r.kq)("",!0),"object"===o(e.error)?((0,r.wg)(),(0,r.iD)("ul",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,i.SU)(n),(function(e){return(0,r.wg)(),(0,r.iD)("li",{key:e},[(0,r._)("span",S,(0,a.zw)((t=e,t.replace("_"," "))),1),(0,r._)("ul",_,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l(e),(function(e,t){return(0,r.wg)(),(0,r.iD)("li",{key:"".concat(t,"-error")},(0,a.zw)(e),1)})),128))])]);var t})),128))])):(0,r.kq)("",!0)]})),_:1})])}}};var U=n(7181),D=n(6532);const C=function(e){return D.Z.post(e.endpoint,e.file)};var j=["onSubmit"],V={class:"mb-4"},W={for:"file",class:"sr-only"},z=["accept"];const H={props:{fileTypes:{type:Array,default:null},endpoint:{type:String,required:!0},label:{type:String,default:""}},emits:["file-uploaded"],setup:function(e,t){var n=t.emit,l=e,o=(0,i.iH)(null),p=(0,i.iH)(null),c=(0,i.iH)(null);function d(){c.value=null,p.value=null}function f(e){d(),o.value=e.target.files[0]}function m(){var e={},t=new FormData;t.append("file",o.value),e.file=t,e.endpoint=l.endpoint,d(),C(e).then((function(){p.value="File uploaded.",n("file-uploaded")})).catch((function(e){return c.value=(0,U.b)(e)}))}return function(t,n){return(0,r.wg)(),(0,r.iD)("form",{onSubmit:(0,s.iM)(m,["prevent"])},[(0,r._)("div",V,[(0,r._)("label",W,(0,a.zw)(e.label),1),(0,r._)("input",{type:"file",accept:e.fileTypes,onChange:f,id:"file"},null,40,z)]),(0,r.Wm)((0,i.SU)(u),{text:"Upload"}),(0,r.Wm)((0,i.SU)(q),{message:p.value,error:c.value},null,8,["message","error"])],40,j)}}}},6039:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(6252),a=n(7757),l=n.n(a),o=n(9963),u=n(2262),i=n(4255),s=n(2119),p=n(2745),c=n(7181),d=n(2380),f=n(4178);function m(e,t,n,r,a,l,o){try{var u=e[l](o),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var l=e.apply(t,n);function o(e){m(l,r,a,o,u,"next",e)}function u(e){m(l,r,a,o,u,"throw",e)}o(void 0)}))}}var y=["onSubmit"],b={class:"flex justify-between"},v=(0,r.Uk)(" Forgot your password? ");const x={setup:function(e){var t=(0,s.tv)(),n=(0,p.tN)(),a=(0,u.iH)(null),m=(0,u.iH)(null),x=(0,u.iH)(null);function h(){return k.apply(this,arguments)}function k(){return(k=g(l().mark((function e(){var r,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.value=null,r={email:a.value,password:m.value},e.prev=2,e.next=5,d.Z.login(r);case 5:return e.next=7,n.getAuthUser();case 7:if(o=(0,i.Jk)(n),!o.user){e.next=13;break}n.setGuest("isNotGuest"),t.push({name:"Dashboard"}),e.next=16;break;case 13:throw(u=Error("Unable to fetch user after login, check your API settings.")).name="Fetch User",u;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),x.value=(0,c.b)(e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})))).apply(this,arguments)}return function(e,t){var n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("form",{onSubmit:(0,o.iM)(h,["prevent"])},[(0,r.Wm)((0,u.SU)(f.Qc),{type:"email",label:"Email",name:"email",modelValue:(0,u.SU)(a),"onUpdate:modelValue":t[0]||(t[0]=function(e){return(0,u.dq)(a)?a.value=e:a=e}),autocomplete:"email",placeholder:"Your email",class:"mb-2"},null,8,["modelValue"]),(0,r.Wm)((0,u.SU)(f.Qc),{type:"password",label:"Password",name:"password",modelValue:(0,u.SU)(m),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,u.dq)(m)?m.value=e:m=e}),placeholder:"Your password",class:"mb-4"},null,8,["modelValue"]),(0,r._)("div",b,[(0,r.Wm)((0,u.SU)(f.tp),{type:"submit",text:"Login"}),(0,r.Wm)(n,{to:{name:"ForgotPassword"},class:"text-sm base-link"},{default:(0,r.w5)((function(){return[v]})),_:1})]),(0,r.Wm)((0,u.SU)(f.Ux),{error:(0,u.SU)(x)},null,8,["error"])],40,y)}}};var h={class:"max-w-sm p-5 m-auto"},k=(0,r._)("h2",{class:"mb-4 text-xl font-bold text-center"},"Login",-1),w={class:"mt-2 text-center text-gray-500"},S=(0,r.Uk)(" Register for an account ");const _={setup:function(e){return function(e,t){var n=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",h,[k,(0,r.Wm)(x,{class:"p-5 bg-white border rounded shadow"}),(0,r._)("p",w,[(0,r.Wm)(n,{to:{name:"Register"},class:"text-pink-500 transition hover:text-pink-600"},{default:(0,r.w5)((function(){return[S]})),_:1})])])}}}}}]);